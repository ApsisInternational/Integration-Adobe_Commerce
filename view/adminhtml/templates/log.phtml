<?php /** @var \Apsis\One\Block\Adminhtml\Logviewer $block */?>
<div class="switcher">
    <label style="font-weight: bold; padding-right: 10px;" for="one-log-selector">
        <?= $block->escapeHtml(__('Select Log File:')); ?>
    </label>
    <select id="one-log-selector" style="width: 20em">
        <option value="apsis_one"><?= $block->escapeHtml(__('APSIS Log')); ?></option>
        <option value="system"><?= $block->escapeHtml(__('Magento System Log')); ?></option>
        <option value="exception"><?= $block->escapeHtml(__('Magento Exception Log')); ?></option>
        <option value="debug"><?= $block->escapeHtml(__('Magento Debug Log')); ?></option>
    </select>
    <button id="one-log-reloader" style="margin-left: 5px;">
        <span><?= $block->escapeHtml(__('Reload')); ?></span>
    </button>
</div>
<div style="padding-top: 25px;">
    <h3 id="one-log-header" style="border-bottom: 4px solid #dfdfdf; color: #eb5e00;">
        <?= $block->escapeHtml(__('APSIS Log')); ?>
    </h3>
</div>

<div style="border: 4px solid #dfdfdf; overflow: hidden; height: 510px; padding: 5px;">
    <div id="log_data"
         style="width:100%;height:500px;overflow:auto;margin:0;padding:3px;background:black;color:#2EC029;
         font:normal 11px Lucida Console, Courier New, serif;">
        <?= /* @noEscape */ $block->getLogFileContent(); ?>
    </div>
</div>

<script type="text/x-magento-init">
    {
        "*": {
            "Apsis_One/js/logUpdater":{
                "url":"<?= $block->escapeUrl($block->getAjaxUrl()) ?>"
            }
        }
    }
</script>